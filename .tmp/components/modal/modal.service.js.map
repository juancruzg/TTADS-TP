{"version":3,"sources":["../../../client/components/modal/modal.service.js"],"names":["angular","module","factory","$rootScope","$modal","openModal","scope","modalClass","modalScope","$new","extend","open","templateUrl","windowClass","confirm","delete","del","noop","args","Array","prototype","slice","call","arguments","name","shift","deleteModal","modal","dismissable","title","html","buttons","classes","text","click","e","close","dismiss","result","then","event","apply"],"mappings":"AAAA;;AAEAA,QAAQC,MAAR,CAAe,mBAAf,EACGC,OADH,CACW,OADX,EACoB,UAAUC,UAAV,EAAsBC,MAAtB,EAA8B;AAC9C;;;;;;AAMA,WAASC,SAAT,CAAmBC,KAAnB,EAA0BC,UAA1B,EAAsC;AACpC,QAAIC,aAAaL,WAAWM,IAAX,EAAjB;AACAH,YAAQA,SAAS,EAAjB;AACAC,iBAAaA,cAAc,eAA3B;;AAEAP,YAAQU,MAAR,CAAeF,UAAf,EAA2BF,KAA3B;;AAEA,WAAOF,OAAOO,IAAP,CAAY;AACjBC,mBAAa,6BADI;AAEjBC,mBAAaN,UAFI;AAGjBD,aAAOE;AAHU,KAAZ,CAAP;AAKD;;AAED;AACA,SAAO;;AAEL;AACAM,aAAS;;AAEP;;;;;AAKAC,cAAQ,UAASC,GAAT,EAAc;AACpBA,cAAMA,OAAOhB,QAAQiB,IAArB;;AAEA;;;;;AAKA,eAAO,YAAW;AAChB,cAAIC,OAAOC,MAAMC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,CAAX;AAAA,cACIC,OAAON,KAAKO,KAAL,EADX;AAAA,cAEIC,WAFJ;;AAIAA,wBAAcrB,UAAU;AACtBsB,mBAAO;AACLC,2BAAa,IADR;AAELC,qBAAO,gBAFF;AAGLC,oBAAM,gDAAgDN,IAAhD,GAAuD,iBAHxD;AAILO,uBAAS,CAAC;AACRC,yBAAS,YADD;AAERC,sBAAM,QAFE;AAGRC,uBAAO,UAASC,CAAT,EAAY;AACjBT,8BAAYU,KAAZ,CAAkBD,CAAlB;AACD;AALO,eAAD,EAMN;AACDH,yBAAS,aADR;AAEDC,sBAAM,QAFL;AAGDC,uBAAO,UAASC,CAAT,EAAY;AACjBT,8BAAYW,OAAZ,CAAoBF,CAApB;AACD;AALA,eANM;AAJJ;AADe,WAAV,EAmBX,cAnBW,CAAd;;AAqBAT,sBAAYY,MAAZ,CAAmBC,IAAnB,CAAwB,UAASC,KAAT,EAAgB;AACtCxB,gBAAIyB,KAAJ,CAAUD,KAAV,EAAiBtB,IAAjB;AACD,WAFD;AAGD,SA7BD;AA8BD;AA7CM;AAHJ,GAAP;AAmDD,CA1EH","file":"modal.service.js","sourcesContent":["'use strict';\n\nangular.module('angularExpressApp')\n  .factory('Modal', function ($rootScope, $modal) {\n    /**\n     * Opens a modal\n     * @param  {Object} scope      - an object to be merged with modal's scope\n     * @param  {String} modalClass - (optional) class(es) to be applied to the modal\n     * @return {Object}            - the instance $modal.open() returns\n     */\n    function openModal(scope, modalClass) {\n      var modalScope = $rootScope.$new();\n      scope = scope || {};\n      modalClass = modalClass || 'modal-default';\n\n      angular.extend(modalScope, scope);\n\n      return $modal.open({\n        templateUrl: 'components/modal/modal.html',\n        windowClass: modalClass,\n        scope: modalScope\n      });\n    }\n\n    // Public API here\n    return {\n\n      /* Confirmation modals */\n      confirm: {\n\n        /**\n         * Create a function to open a delete confirmation modal (ex. ng-click='myModalFn(name, arg1, arg2...)')\n         * @param  {Function} del - callback, ran when delete is confirmed\n         * @return {Function}     - the function to open the modal (ex. myModalFn)\n         */\n        delete: function(del) {\n          del = del || angular.noop;\n\n          /**\n           * Open a delete confirmation modal\n           * @param  {String} name   - name or info to show on modal\n           * @param  {All}           - any additional args are passed straight to del callback\n           */\n          return function() {\n            var args = Array.prototype.slice.call(arguments),\n                name = args.shift(),\n                deleteModal;\n\n            deleteModal = openModal({\n              modal: {\n                dismissable: true,\n                title: 'Confirm Delete',\n                html: '<p>Are you sure you want to delete <strong>' + name + '</strong> ?</p>',\n                buttons: [{\n                  classes: 'btn-danger',\n                  text: 'Delete',\n                  click: function(e) {\n                    deleteModal.close(e);\n                  }\n                }, {\n                  classes: 'btn-default',\n                  text: 'Cancel',\n                  click: function(e) {\n                    deleteModal.dismiss(e);\n                  }\n                }]\n              }\n            }, 'modal-danger');\n\n            deleteModal.result.then(function(event) {\n              del.apply(event, args);\n            });\n          };\n        }\n      }\n    };\n  });\n"]}